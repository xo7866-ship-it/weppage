(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{5855:(e,t,i)=>{Promise.resolve().then(i.bind(i,1856))},1856:(e,t,i)=>{"use strict";i.d(t,{default:()=>m});var s=i(5155),a=i(8173),r=i.n(a),n=i(4915),c=i(2675),l=i.n(c);function m(){let{items:e,removeFromCart:t}=(0,n._)(),i=e.reduce((e,t)=>e+t.price*t.quantity,0),a=i>=5e4?0:3e3,c=i+a;return 0===e.length?(0,s.jsxs)("div",{className:"container ".concat(l().container),children:[(0,s.jsx)("h1",{className:l().title,children:"장바구니"}),(0,s.jsxs)("div",{className:l().emptyState,children:[(0,s.jsx)("p",{style:{marginBottom:"1.5rem",fontSize:"1.2rem"},children:"장바구니가 비어있습니다."}),(0,s.jsx)(r(),{href:"/books",className:"btn btn-primary",children:"도서 둘러보기"})]})]}):(0,s.jsxs)("div",{className:"container ".concat(l().container),children:[(0,s.jsx)("h1",{className:l().title,children:"장바구니"}),(0,s.jsxs)("div",{className:l().grid,children:[(0,s.jsx)("div",{className:l().itemsList,children:e.map(e=>(0,s.jsxs)("div",{className:l().item,children:[(0,s.jsx)("div",{className:l().itemImage,children:(0,s.jsx)("img",{src:e.image,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,s.jsxs)("div",{className:l().itemInfo,children:[(0,s.jsx)(r(),{href:"/books/".concat(e.id),className:l().itemTitle,children:e.title}),(0,s.jsxs)("div",{className:l().itemPrice,children:[e.price.toLocaleString(),"원"]})]}),(0,s.jsxs)("div",{className:l().itemActions,children:[(0,s.jsxs)("span",{className:l().quantity,children:["수량: ",e.quantity]}),(0,s.jsxs)("span",{style:{fontWeight:600},children:[(e.price*e.quantity).toLocaleString(),"원"]}),(0,s.jsx)("button",{onClick:()=>t(e.id),className:l().removeBtn,children:"삭제"})]})]},e.id))}),(0,s.jsxs)("div",{className:l().summary,children:[(0,s.jsx)("h2",{className:l().summaryTitle,children:"주문 요약"}),(0,s.jsxs)("div",{className:l().summaryRow,children:[(0,s.jsx)("span",{children:"소계"}),(0,s.jsxs)("span",{children:[i.toLocaleString(),"원"]})]}),(0,s.jsxs)("div",{className:l().summaryRow,children:[(0,s.jsx)("span",{children:"배송비"}),(0,s.jsxs)("span",{children:[a.toLocaleString(),"원"]})]}),(0,s.jsxs)("div",{className:l().totalRow,children:[(0,s.jsx)("span",{children:"총 결제금액"}),(0,s.jsxs)("span",{children:[c.toLocaleString(),"원"]})]}),(0,s.jsx)(r(),{href:"/checkout",className:l().checkoutBtn,style:{display:"block",textAlign:"center",textDecoration:"none"},children:"주문하기"})]})]})]})}},4915:(e,t,i)=>{"use strict";i.d(t,{_:()=>c,e:()=>n});var s=i(5155),a=i(2115);let r=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[i,n]=(0,a.useState)([]),[c,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{n(JSON.parse(e))}catch(e){console.error("Failed to parse cart",e)}l(!0)},[]),(0,a.useEffect)(()=>{c&&localStorage.setItem("cart",JSON.stringify(i))},[i,c]);let m=i.reduce((e,t)=>e+t.quantity,0);return(0,s.jsx)(r.Provider,{value:{items:i,addToCart:e=>{n(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:e=>{n(t=>t.filter(t=>t.id!==e))},cartCount:m,clearCart:()=>{n([])}},children:t})}function c(){let e=(0,a.useContext)(r);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},2675:e=>{e.exports={container:"page_container__70Tru",title:"page_title__QlQba",emptyState:"page_emptyState__InHgx",grid:"page_grid___IEfn",itemsList:"page_itemsList__J9Sr5",item:"page_item__KDYfv",itemImage:"page_itemImage__rCSdB",itemInfo:"page_itemInfo__tuvWO",itemTitle:"page_itemTitle__x2MtB",itemPrice:"page_itemPrice__E2v0Z",itemActions:"page_itemActions__sQQBi",quantity:"page_quantity__ooECY",removeBtn:"page_removeBtn__Me_RP",summary:"page_summary__j_s_y",summaryTitle:"page_summaryTitle___9CoN",summaryRow:"page_summaryRow__nx_qf",totalRow:"page_totalRow__pF1E2",checkoutBtn:"page_checkoutBtn__G5f_W"}}},e=>{var t=t=>e(e.s=t);e.O(0,[344,173,441,517,358],()=>t(5855)),_N_E=e.O()}]);